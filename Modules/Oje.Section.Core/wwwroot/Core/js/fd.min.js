function initDisigner(n){var t,i;n&&(t=$("#"+n.id),t.length>0&&(i=generateDesigner(n),t.html(i),initDisignerEventAndFunction(n,t)))}function generateDesigner(n){return""+`

<div class="formDesigner" >
    <div class="formDesignerPlateTopMenu" >${getTopMenuActions(n)}</div>
    <div class="formDesignerPlateHolders" >
        <div class="formDesignerCtrlHolders" >${getActiveCtrls(n)}</div>
        <div class="formDesignerPlate" >
            <div id="${n.id}_renderPlace" ></div>
        </div>
        <div class="formDesignerCtrlProperties" ></div>
    </div>
</div>

`}function getActiveCtrls(){var n="";return n+='<div class="formDesignerCtrlItem formDesignerCtrlItemTextBox" ><img src="/Modules/Images/textbox.png" alt="تکس باکس" /><span title ="تکس باکس" >تکس باکس<\/span><\/div>',n+='<div class="formDesignerCtrlItem formDesignerCtrlItemTextBoxArea" ><img src="/Modules/Images/textarea.png" alt="تکس اریا" /><span title ="تکس اریا" >تکس اریا<\/span><\/div>',n+='<div class="formDesignerCtrlItem formDesignerCtrlItemRadioBox" ><img src="/Modules/Images/radio.png" alt="ردیو باکس" /><span title ="ردیو باکس" >ردیو باکس<\/span><\/div>',n+='<div class="formDesignerCtrlItem formDesignerCtrlItemCheckBox" ><img src="/Modules/Images/checkbox.png" alt="چک باکس" /><span title ="چک باکس" >چک باکس<\/span><\/div>',n+'<div class="formDesignerCtrlItem formDesignerCtrlItemUploadFile" ><img src="/Modules/Images/fileupload.png" alt="فایل" /><span title ="فایل" >فایل<\/span><\/div>'}function getTopMenuActions(){var n="";return n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuNew fa fa-plus-circle" style="color:red;" title="جدید" ><\/div>',n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuExport fa fa-download" title="خروجی" ><\/div>',n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuImport fa fa-upload" title="ورودی" ><\/div>',n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuUndo fa fa-undo" title="قبلی" ><\/div>',n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuRedo fa fa-redo" title="بعدی" ><\/div>',n+='<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuInfo fa fa-info" title="خصوصیات" ><\/div>',n+'<div class="formDesignerPlateTopMenuItem formDesignerPlateTopMenuSelectElement fa fa-mouse-pointer" title="انتخاب" ><\/div>'}function initDisignerEventAndFunction(n,t){var i=t[0];i.ctrl=n;initReNewFunction(i,t);initSelectElementFunction(i,t);initShowCtrlInfoMenu(i,t);initGetSelectedCtrlJsonObj(i);initMouseEvents(n,t);i.reNew()}function initGetSelectedCtrlJsonObj(n){n.getSelectedCtrl=function(){var n=$(this).find(".makeSelectedDP");return n.length>0&&n.find(".myCtrl").length>0?n.find(".myCtrl")[0].ctrl:null}}function initShowCtrlInfoMenu(n,t){n.showSpecMenue=function(){var n=this.getSelectedCtrl();if(!n){$.toast({heading:"خطا",text:"لطفا ابتدا یک کنترول را انتخاب کنید",textAlign:"right",position:"bottom-right",showHideTransition:"slide",icon:"error"});return}bindSpecPanelInputs(this,n)};t.find(".formDesignerPlateTopMenuInfo").click(function(){$(this).closest(".myFormDesigner")[0].showSpecMenue()})}function initSelectElementFunction(n,t){n.togleSelectE=function(){var n=$(this).find(".formDesignerPlateTopMenuSelectElement");n.toggleClass("formDesignerPlateTopMenuSelectElementSelected");$(this)[0].isSelectedElement=n.hasClass("formDesignerPlateTopMenuSelectElementSelected");isEditModeActive=n.hasClass("formDesignerPlateTopMenuSelectElementSelected")};n.offSelecteE=function(){var n=$(this).find(".formDesignerPlateTopMenuSelectElement");n.removeClass("formDesignerPlateTopMenuSelectElementSelected");$(this)[0].isSelectedElement=n.hasClass("formDesignerPlateTopMenuSelectElementSelected");isEditModeActive=!1};t.find(".formDesignerPlateTopMenuSelectElement").click(function(){$(this).closest(".myFormDesigner")[0].togleSelectE()})}function initReNewFunction(n,t){n.reNew=function(){var n=this.ctrl;n&&n.baseConfig&&($("#"+n.id+"_renderPlace").html(""),generateForm(JSON.parse(JSON.stringify(n.baseConfig)),n.id+"_renderPlace"))};t.find(".formDesignerPlateTopMenuNew").click(function(){$(this).closest(".myFormDesigner")[0].reNew()})}function initMouseEvents(n,t){t.mousedown(function(n){n.which==1&&n&&n.target&&$(n.target).closest(".formDesignerCtrlItem").length>0&&createMouseCtrlShadow($(n.target).closest(".formDesignerCtrlItem"),t,n)});t.mouseup(function(n){n.which==1&&curMouseMove&&curMouseMove.length>0&&(addNewCtrlToDesigner(curMouseMove,n,this.quirySelector),curMouseMove.remove(),curMouseMove=null)}.bind({quirySelector:t}));t.mousemove(function(n){curMouseMove?(curMouseMove.css("left",n.clientX+10+"px"),curMouseMove.css("top",n.clientY-10+"px"),markeCurrentActiveCtrl(n,this.quirySelector)):this.quirySelector[0].isSelectedElement&&markeCurrentActiveCtrl(n,this.quirySelector)}.bind({quirySelector:t}))}function removeAllMarked(n){n.find('span[class*="makeSelectedDP"]').remove();n.find(".makeSelectedDP").removeClass("makeSelectedDP").unbind()}function isSelectable(n){return n.hasClass("col-xs-12")&&n.parent()&&n.parent().hasClass("row")&&n.closest(".myPanel").length>0&&!n.hasClass("myPanel")?n:n.closest(".myCtrl").length>0?n.closest(".myCtrl").parent():null}function markeCurrentActiveCtrl(n,t){if(removeAllMarked(t),n&&n.target&&$(n.target).closest(".formDesignerPlate").length>0){var i=$(n.target),r=isSelectable(i);r&&(i=r,i.hasClass("makeSelectedDP")||(i.addClass("makeSelectedDP"),i.append('<span class="makeSelectedDPLeftBottom"><\/span>'),i.append('<span class="makeSelectedDPLeftTop"><\/span>'),i.append('<span class="makeSelectedDPRightBottom"><\/span>'),i.append('<span class="makeSelectedDPRightTop"><\/span>'),i.click(function(){$(this).closest(".myFormDesigner")[0].offSelecteE()})))}}function createMouseCtrlShadow(n,t,i){var r=uuidv4RemoveDash(),u='<div id="'+r+'" class="'+n.attr("class")+' formDesignerCtrlItemMovable">'+n.html()+"<\/div>";t.append(u);curMouseMove=$("#"+r);curMouseMove.css("left",i.clientX+10+"px");curMouseMove.css("top",i.clientY-10+"px");i.preventDefault()}function addNewCtrlToDesigner(n,t,i){var r,f,u;if(t&&t.target&&$(t.target).closest(".formDesignerPlate").length>0&&(r=$(t.target),f=isSelectable(r),f)){r=f;var o=!1,s=r.width()/2,e=t.offsetX;$(t.target).hasClass("col-xs-12")||(e=e+t.target.offsetLeft);e<=s&&(o=!0);u=getCurCtrlTemplate(n);u&&(o==!0?r.after(u):r.before(u),executeArrFunctions(),removeAllMarked(i))}}function generateRandomName(){return"name_"+(new Date).getTime()}function getCurCtrlTemplate(n){var t="";return n.hasClass("formDesignerCtrlItemTextBox")?(t+='<div class="col-md-4 col-sm-6 col-xs-12 col-lg-3">',t+=getTextBoxTemplate({id:uuidv4RemoveDash(),parentCL:"col-md-4 col-sm-6 col-xs-12 col-lg-3",name:generateRandomName(),type:"text",label:"عنوان",isRequired:!0}),t+="<\/div>"):n.hasClass("formDesignerCtrlItemTextBoxArea")?(t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextAreaTemplate({id:uuidv4RemoveDash(),parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:generateRandomName(),type:"textarea",label:"عنوان",isRequired:!0}),t+="<\/div>"):n.hasClass("formDesignerCtrlItemUploadFile")?(t+='<div class="col-md-4 col-sm-6 col-xs-12 col-lg-3">',t+=getFileCTRLTemplate({id:uuidv4RemoveDash(),parentCL:"col-md-4 col-sm-6 col-xs-12 col-lg-3",name:generateRandomName(),type:"file",label:"عنوان",isRequired:!0,acceptEx:".jpg,.png,.jpeg"}),t+="<\/div>"):n.hasClass("formDesignerCtrlItemCheckBox")?(t+='<div class="col-md-4 col-sm-6 col-xs-12 col-lg-3">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),parentCL:"col-md-4 col-sm-6 col-xs-12 col-lg-3",name:generateRandomName(),type:"checkBox",label:"عنوان",isRequired:!0}),t+="<\/div>"):n.hasClass("formDesignerCtrlItemRadioBox")&&(t+='<div class="col-md-4 col-sm-6 col-xs-12 col-lg-3">',t+=getRadioButtonTemplate({id:uuidv4RemoveDash(),parentCL:"col-md-4 col-sm-6 col-xs-12 col-lg-3",name:generateRandomName(),type:"radio",textfield:"title",valuefield:"id",label:"عنوان",values:[{id:"خیر",title:"خیر"},{id:"بلی",title:"بلی"}]}),t+="<\/div>"),t}function bindSpecPanelInputs(n,t){var r=$(n).find(".formDesignerCtrlProperties"),i="";i+='<div class="propertyTitle" ><span class="propertyCloseButton fa fa-times" ><\/span>خصوصیات<\/div>';i+='<div style="padding-top:15px;" class="row">';i+=getClassInput(t);switch(t.type){case"text":case"textarea":case"number":i+=getLabelInput(t);i+=getNameInput(t);i+=getSizeInput(t);i+=getChangeDirectionTemplate(t);i+=getValidationInput(t);i+=getMaskTemplate(t);i+=getDisabledInput(t);break;case"dropDown":i+=getLabelInput(t);i+=getNameInput(t);i+=getSizeInput(t);i+=getSourceUrlTemplate(t);i+=getTextAndValueSchemaFields(t);i+=getRequiredValidation(t);i+=getValuesTemplate(t);break;case"radio":i+=getLabelInput(t);i+=getNameInput(t);i+=getSizeInput(t);i+=getTextAndValueSchemaFields(t);i+=getValuesTemplate(t);i+=get}i+=getSaveButtonTemplate();i+="<\/div>";r.addClass("formDesignerCtrlPropertiesShow").html(i);r.find(".propertyCloseButton").click(function(){$(this).closest(".formDesignerCtrlPropertiesShow").removeClass("formDesignerCtrlPropertiesShow").html("")});executeArrFunctions()}function fillFoundObj(n,t){if(n.parentCL=t.size,n.textfield=t.textfield,n.valuefield=t.valuefield,n.mask=t.mask,n.ltr=t.ltr,n.label=t.inputLabel,n.name=t.inputName,n.isRequired=t.isRequired,n.dataurl=t.dataurl,n.disabled=t.disabled,n.maxLengh=t.maxLength,n.class=t.class,addOrRemoveOnlyValidationOnlyNumber(n,t.justNumber),addOrRemoveOnlyValidationNumberCount(n,t.numberLength),addOrRemoveValidationStartWith(n,t.startWithN),addOrRemoveValidationEmail(n,t.email),n.type=="number"&&(n.type="text"),n.nationalCodeValidation=t.codeMeli?!0:null,t.values){var i=JSON.parse(t.values);i&&i.length>0&&(n.values=i)}console.log(n)}function saveSelectedController(n){var t=$(n).closest(".myFormDesigner"),i;if(t.length>0&&(i=t[0].getSelectedCtrl(),i)){var u=$(n).closest(".formDesignerCtrlProperties"),f=getFormData(u),r={};f.forEach(function(n,t){r[t]=n});fillFoundObj(i,r);t.find(".makeSelectedDP").length>0&&(t.find(".makeSelectedDP").replaceWith(getInputTemplate(i)),executeArrFunctions(),$(n).closest(".formDesignerCtrlProperties").find(".propertyCloseButton").click())}}function addOrRemoveValidationEmail(n,t){if(n.validations||(n.validations=[]),t){var i=n.validations.filter(function(n){return n.reg=="^\\S+@\\S+\\.\\S+$"});i&&i.length!=0?(i[0].reg="^\\S+@\\S+\\.\\S+$",i[0].msg="ایمیل وارد شده صحیح نمی باشد"):n.validations.push({reg:"^\\S+@\\S+\\.\\S+$",msg:"ایمیل وارد شده صحیح نمی باشد"})}else n.validations=n.validations.filter(function(n){return n.reg!="^\\S+@\\S+\\.\\S+$"})}function addOrRemoveValidationStartWith(n,t){if(n.validations||(n.validations=[]),t){var i=n.validations.filter(function(n){return/\^\([\w]+\)/.test(n.reg)});i&&i.length!=0?(i[0].reg="^("+t+")",i[0].msg=n.label+" باید با "+t+" آغاز شود"):n.validations.push({reg:"^("+t+")",msg:n.label+" باید با "+t+" آغاز شود"})}else n.validations=n.validations.filter(function(n){return!/\^\([\w]+\)/.test(n.reg)})}function addOrRemoveOnlyValidationNumberCount(n,t){if(n.validations||(n.validations=[]),t){var i=n.validations.filter(function(n){return n.reg.indexOf("^([0-9]){")==0});i&&i.length!=0?(i[0].reg="^([0-9]){"+t+"}$",i[0].msg=n.label+"باید "+t+" عدد باشد"):n.validations.push({reg:"^([0-9]){"+t+"}$",msg:n.label+"باید "+t+" عدد باشد"})}else n.validations=n.validations.filter(function(n){return n.reg.indexOf("^([0-9]){")==-1})}function addOrRemoveOnlyValidationOnlyNumber(n,t){if(n.validations||(n.validations=[]),t=="true"){var i=n.validations.filter(function(n){return n.reg=="^[0-9]*$"});i&&i.length!=0||n.validations.push({reg:"^[0-9]*$",msg:"لطفا فقط عدد وارد کنید"})}else n.validations=n.validations.filter(function(n){return n.reg!="^[0-9]*$"})}function getTextAndValueSchemaFields(n){var t="";return t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextBoxTemplate({name:"textfield",type:"text",label:"عنوان اسکیما",dfaultValue:n.textfield}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextBoxTemplate({name:"valuefield",type:"text",label:"شناسه اسکیما",dfaultValue:n.valuefield}),t+"<\/div>"}function getSaveButtonTemplate(){var n='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return n+=getButtonTemplateWidthLabel({"class":"btn-primary btn-block",type:"button",title:"ذخیره",onClick:"saveSelectedController(this)"}),n+"<\/div>"}function getDisabledInput(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"disabled",type:"checkBox",label:"غیر فعال؟",dfaultValue:n.disabled}),t+"<\/div>"}function getLabelInput(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getTextBoxTemplate({name:"inputLabel",type:"text",label:"عنوان",dfaultValue:n.label}),t+"<\/div>"}function getClassInput(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getTextBoxTemplate({name:"class",type:"text",label:"کلاس",dfaultValue:n.class}),t+"<\/div>"}function getChangeDirectionTemplate(n){var t="";return t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"ltr",type:"checkBox",label:"چپ به راست ؟",dfaultValue:n.ltr}),t+"<\/div>"}function getRequiredValidation(n){var t="";return t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"isRequired",type:"checkBox",label:"اجباری ؟",dfaultValue:n.isRequired}),t+"<\/div>"}function getValidationInput(n){var t="";return t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"codeMeli",type:"checkBox",label:"کد ملی؟",dfaultValue:n.nationalCodeValidation}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"email",type:"checkBox",label:"ایمیل؟",dfaultValue:hasEmailValidation(n)}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"isRequired",type:"checkBox",label:"اجباری ؟",dfaultValue:n.isRequired}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getCheckboxButtonTemplate({id:uuidv4RemoveDash(),name:"justNumber",type:"checkBox",label:"فقط عدد؟",dfaultValue:hasJustNumberValidation(n)}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextBoxTemplate({name:"numberLength",type:"number",label:"تعداد اعداد اجباری",dfaultValue:getNumberLengthValidationNumber(n)}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextBoxTemplate({name:"maxLength",type:"text",label:"حداکثر کارکتر مجاز",dfaultValue:n.maxLengh}),t+="<\/div>",t+='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getTextBoxTemplate({name:"startWithN",type:"text",label:"شروع شود با",dfaultValue:getStartWithValidationNumber(n)}),t+"<\/div>"}function hasEmailValidation(n){return n&&n.validations?n.validations.filter(function(n){return n.reg=="^\\S+@\\S+\\.\\S+$"}).length>0:!1}function getNameInput(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getTextBoxTemplate({name:"inputName",type:"text",label:"نام",dfaultValue:n.name}),t+"<\/div>"}function getValuesTemplate(n){var t="",i=n.values;return i||(i=[]),t+="<div data-options='"+JSON.stringify(i)+'\' class="col-md-12 col-sm-12 col-xs-12 col-lg-12">',t+=getButtonTemplateWidthLabel({id:uuidv4RemoveDash(),"class":"btn-success btn-block",type:"button",title:"مقادیر",onClick:"showValuesGridModal(this)"}),t+"<\/div>"}function addTIdToArr(n){if(n)for(var t=0;t<n.length;t++)n[t].tId=uuidv4RemoveDash(),n[t].order=t+1}function showValuesGridModal(n){var r=$(n);if(r.closest("[data-options]").length>0){var i=JSON.parse(r.closest("[data-options]").attr("data-options")),u="modal_"+uuidv4RemoveDash(),t="grid_"+uuidv4RemoveDash(),f="modal_"+uuidv4RemoveDash(),e="modal_"+uuidv4RemoveDash();addTIdToArr(i);$("body").append(getModualTemplate({id:u,"class":"modal-lg",title:"مقادیر",modelBody:getGridTemplate({id:t,topActions:[{title:"افزودن",onClick:"showModal('"+f+"', this)"}],isClient:!0,itemPerPage:100,schema:{data:"data",total:"total"},showColumnConfigButton:!0,key:"tId",actions:{cActions:[{template:"function bindRow (curRow) { return '<span onclick=\"showEditModal(\\''+ curRow.tId +'\\', \\'\\', \\'"+e+'\\\' , this, null, null, null, null, true)" style="display:block;" ><i style="color:white!important;" class="fa fa-pen" ><\/i><\/span>\' };bindRow(data)'},{template:'function bindRow (curRow) { return \'<span onclick="deleteThisRowMGridD(\\\'\'+ curRow.tId +\'\\\',this)" style="display:block;" ><i style="color:white!important;" class="fa fa-trash" ><\/i><\/span>\' };bindRow(data)'}]},columns:[{field:"order",caption:"ترتیب",search:{searchType:"text"},sort:!0},{field:"id",caption:"شناسه",search:{searchType:"text"},sort:!0},{field:"title",caption:"عنوان",search:{searchType:"text"},sort:!0}],ds:{data:i,total:i.length}}),actions:[{title:"بستن",onClick:"closeThisModal(this)","class":"btn-secondary"},{title:"ذخیره",onClick:"updateOptions('"+t+"', '"+$(n).attr("id")+"', this)","class":"btn-primary"}]}));$("body").append(getModualTemplate({id:f,title:"افزودن",ctrls:[{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"order",type:"number",label:"ترتیب نمایش"},{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"id",type:"text",label:"شناسه"},{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"title",type:"text",label:"عنوان"}],actions:[{title:"بستن",onClick:"closeThisModal(this)","class":"btn-secondary"},{title:"ذخیره",onClick:"addNewValueToGridForValues(this, '"+t+"')","class":"btn-primary"}]}));$("body").append(getModualTemplate({id:e,title:"ویرایش",ctrls:[{name:"tId",type:"hidden"},{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"order",type:"number",label:"ترتیب نمایش"},{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"id",type:"text",label:"شناسه"},{parentCL:"col-md-12 col-sm-12 col-xs-12 col-lg-12",name:"title",type:"text",label:"عنوان"}],actions:[{title:"بستن",onClick:"closeThisModal(this)","class":"btn-secondary"},{title:"ذخیره",onClick:"updateValueToGridForValues(this, '"+t+"')","class":"btn-primary"}]}));executeArrFunctions();$("#"+u).modal("show")}}function updateOptions(n,t,i){var r,u,f;(n,t,i)&&(r=$("#"+n),r.length>0&&(u=r[0].option,u&&(f=r[0].setFiltersAndSorts(u.ds,u,new FormData),console.log(f),$("#"+t).closest("[data-options]").attr("data-options",JSON.stringify(f.data))),closeThisModal(i)))}function deleteThisRowMGridD(n,t){var r,i,u;t&&n&&(r=$(t).closest(".myGridCTRL"),r.length>0&&(i=r[0].option,i&&(u=i.ds.data.filter(function(t){return t.tId!=n}),i.ds.data=u,i.ds.total=u.length),r[0].refreshData()))}function updateValueToGridForValues(n,t){var r,e,u,i,o,f;if(n&&t&&(r=$("#"+t),r.length>0)){if(closeThisModal(n),e=getFormData($(n).closest(".modal-content")),u=r[0].option,u){i={};e.forEach(function(n,t){i[t]=n});o=u.ds.data.filter(function(n){return n.tId==i.tId});for(f in i)o[0][f]=i[f]}r[0].refreshData()}}function addNewValueToGridForValues(n,t){var u,f,i,r;n&&t&&(u=$("#"+t),u.length>0&&(closeThisModal(n),f=getFormData($(n).closest(".modal-content")),i=u[0].option,i&&(r={},f.forEach(function(n,t){r[t]=n}),i.ds.data.push({id:r.id,title:r.title,order:r.order,tId:uuidv4RemoveDash()}),i.ds.total=i.ds.total+1),u[0].refreshData()))}function getSourceUrlTemplate(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getTextBoxTemplate({name:"dataurl",type:"text",label:"لینک منبع",dfaultValue:n.dataurl,ltr:!0}),t+"<\/div>"}function getMaskTemplate(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getTextBoxTemplate({name:"mask",type:"text",label:"ماسک",dfaultValue:n.mask}),t+"<\/div>"}function getSizeInput(n){var t='<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">';return t+=getDropdownCTRLTemplate({name:"size",type:"dropDown",label:"اندازه",dfaultValue:n.parentCL,textfield:"title",valuefield:"id",values:[{id:"col-md-4 col-sm-6 col-xs-12 col-lg-3",title:"یک سوم سطر(یک چهارم سطر)"},{id:"col-md-4 col-sm-6 col-xs-12 col-lg-4",title:"یک سوم سطر"},{id:"col-md-3 col-sm-3 col-xs-12 col-lg-3",title:"یک چهارم سطر"},{id:"col-md-9 col-sm-9 col-xs-12 col-lg-9",title:"سه چهارم سطر"},{id:"col-md-6 col-sm-6 col-xs-12 col-lg-6",title:"نصف سطر"},{id:"col-md-12 col-sm-12 col-xs-12 col-lg-12",title:"کل سطر"}]}),t+"<\/div>"}function hasJustNumberValidation(n){var i=!1,t;if(n&&n.validations)for(t=0;t<n.validations.length;t++)if(n.validations[t].reg=="^[0-9]*$"){i=!0;break}return i}function getStartWithValidationNumber(n){for(var i="",t=0;n.validations&&t<n.validations.length;t++)if(/\^\([\w]+\)/.test(n.validations[t].reg)){i=n.validations[t].reg.split("^(")[1].split(")")[0];break}return i}function getNumberLengthValidationNumber(n){for(var i="",t=0;n.validations&&t<n.validations.length;t++)if(n.validations[t].reg.indexOf("^([0-9]){")>-1&&n.validations[t].reg.indexOf("}$")>-1){i=n.validations[t].reg.split("^([0-9]){")[1].split("}$")[0];break}return i}var isEditModeActive=!1,curMouseMove=null;