function isElementInViewport(n){typeof jQuery=="function"&&n instanceof jQuery&&(n=n[0]);var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom-t.height<=(window.innerHeight||document.documentElement.clientHeight)&&t.right-t.width<=(window.innerWidth||document.documentElement.clientWidth)}function onVisibilityChange(n,t,i){var r;return function(){var u=isElementInViewport(n);(!i&&u||i)&&u!=r&&(r=u,typeof t=="function"&&t(u))}}function getYourQuestionBeginTemplate(){return`
        <section class="yourQuestion ">
            <div class="yourQuestionTitle">پرسش های شما</div>
            <div class="holderyourQuestionItems">
        
`}function getYourQuestionItemTemplate(n){return`
    <div class="yourQuestionItem">
        <i></i>
        <div class="yourQuestionItemTitle">
            ${n.q}
        </div>
        <div class="yourQuestionItemAnswer">
            ${n.a}
        </div>
    </div>
`}function getYourQuestionEndTemplate(){return"<\/div><\/section>"}function showLoginUserPanelInMainPage(){postForm("/Account/Dashboard/GetLoginUserSideMenu",new FormData,function(n){var i,f,r,t,u;if(n&&n.length>0){for(bindCharts(),i="",f=getItemCount(n),r=0;r<n.length;r++){if(t=n[r],f>24&&(i+='<span class="WebMod"><i class="fa '+t.icon+'"><\/i>'+t.title+'<span class="WebModActions">'),t.actions&&t.actions.length>0)for(u=0;u<t.actions.length;u++)i+=getSectionTemplate(t.actions[u]);f>24&&(i+="<\/span><\/span>")}$("#adminPanel").find(".allQuckAccessItemsHolder").html(i);$("#adminPanel").css("display","block")}})}function getItemCount(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].actions.length;return i}function getSectionTemplate(n){return`<a href="${n.url}"><i class="fa ${n.icon}"></i>${n.title}</a>`}function bindCharts(){loadJsonConfig("/ProposalFilledFormChartReports/ProposalFilledFormMonth/GetJsonConfig",$("#hiChartMonthly"));loadJsonConfig("/ProposalFilledFormChartReports/ProposalFilledFormYear/GetJsonConfig",$("#hiChartYear"));loadJsonConfig("/ProposalFilledFormChartReports/ProposalFilledFormWeek/GetJsonConfig",$("#hiChartWeekly"))}function doAddClassWork(n){$(n).hasClass("animationOnScrollOpacity")?$(n).addClass("animationOnScrollOpacityShow"):$(n).hasClass("animationOnScrollMarginTop")?$(n).addClass("animationOnScrollMarginTopShow"):$(n).hasClass("animationOnScrollOpacityFlip")&&$(n).addClass("animationOnScrollOpacityFlipShow")}$.fn.initTabCtrl=function(){return this.each(function(){$(this).find(".TabHeaderItem").click(function(){var n,i,t;$(this).hasClass("TabHeaderItemActive")||(n=-1,i=this,$(this).closest(".holderTabHeaderItems").find(".TabHeaderItem").each(function(t){if($(this)[0]==$(i)[0])return n=t,!1}),$(this).closest(".holderTabHeaderItems").find(".TabHeaderItemActive").removeClass("TabHeaderItemActive"),$(this).addClass("TabHeaderItemActive"),n!=-1&&(t=$(this).closest(".tabCtrl").find(".holderTabContentItems"),t.find(".TabContentItemActive").removeClass("TabContentItemActive"),t.find(".TabContentItem").eq(n).addClass("TabContentItemActive")))})})};$.fn.loadTopMenu=function(n){function t(n){var t="",u,i,r;if(t+='<div class="headerMenuItem ">',t+='<div class="headerMenuItemInner '+(n.childs&&n.childs.length>0?"headerMenuItemHasArrow":"")+'">',t+=n.link?'<a href="'+(n.link?n.link:"#")+'" class="headerMenuItemLink">'+n.title+"<\/a>":'<span class="headerMenuItemLink">'+n.title+"<\/span>",t+="<\/div>",n.childs&&n.childs.length>0){for(t+='<div class="headerMenuItemSumMenuItems">',t+='<div class="myContainer">',t+='<div class="headerMenuItemSumMenuItemsInner">',t+='<div class="headerMenuItemGroup headerMenuMoveBackButton">',t+='<span class="headerMenuItemLink">'+n.title+"<\/span>",t+="<\/div>",u=0;u<n.childs.length;u++){if(i=n.childs[u],t+='<div class="headerMenuItemGroup">',t+='<div class="headerMenuItemGroupTitle">'+i.title+"<\/div>",i.childs&&i.childs.length>0)for(r=0;r<i.childs.length;r++)t+='<a href="'+(i.childs[r].link?i.childs[r].link:"#")+'" title="'+i.childs[r].title+'" class="headerMenuItemGroupItem">'+i.childs[r].title+"<\/a>";t+="<\/div>"}t+="<\/div>";t+="<\/div>";t+="<\/div>"}return t+"<\/div>"}return this.each(function(){postForm(n,new FormData,function(n){var r="",i,u;if(n&&n.length>0)for(i=0;i<n.length;i++)u=n[i],r+=t(u);$(this.curThis).html(r);$(".headerMenu").initNavResButton()}.bind({curThis:$(this)}))})};$.fn.initNavResButton=function(){return this.each(function(){$(this).find(".topMenuBtton").click(function(){$(this).closest(".headerMenu").toggleClass("topMenuBttonOpen")});$(this).find(".headerMenuMoveBackButton").click(function(n){n.stopPropagation();n.preventDefault();$(this).closest(".headerMenuItem").addClass("closeHoverMenu")});$(this).find(".headerMenuItem").click(function(){$(this).removeClass("closeHoverMenu")})})};$.fn.initShowMoreButtons=function(n){return this.each(function(){$(this).click(function(){$("."+n).toggleClass("makeShowMore");$(this).toggleClass("moreButtonClicked");$(this).hasClass("moreButtonClicked")?$(this).html("کمتر"):$(this).html("بیشتر")})})};$.fn.initFloatingFooter=function(n){return this.each(function(){var i=$("#"+n),t,r;if(i.length>0){t=i[0];r=onVisibilityChange(t,function(n){n==!1?(this.curThis.hasClass("makeMyContainer100")&&this.curThis.removeClass("makeMyContainer100"),this.curThis.hasClass("floatingFooterSectionMakeFloat")||this.curThis.addClass("floatingFooterSectionMakeFloat")):(this.curThis.hasClass("floatingFooterSectionMakeFloat")&&this.curThis.removeClass("floatingFooterSectionMakeFloat"),this.curThis.hasClass("makeMyContainer100")||this.curThis.addClass("makeMyContainer100"))}.bind({curPlaceHolderObj:t,curThis:$(this)}),!0);$(window).on("DOMContentLoaded load resize scroll",r)}})};$.fn.initInquiryTab=function(){return this.each(function(){var n=$(this)[0];$(n).find(".inquirySectionTabHeaderItemInner").click(function(){$("body").click();$(this).closest(".inquirySectionTab")[0].clickHeaderTabItem(this)});n.getSelectTabIndex=function(n){var t=-1;return $(n).closest(".inquirySectionTabHeaderItems").find(".inquirySectionTabHeaderItemInner").each(function(i){if($(n)[0]==$(this)[0])return t=i,!1}),t};n.clickHeaderTabItem=function(n){var t,u,i,r;if($(n).hasClass("inquirySectionTabHeaderItemActive"))return!1;t=$(n).closest(".inquirySectionTab")[0].getSelectTabIndex(n);u=$(n).closest(".inquirySectionTabHeaderItem").attr("data-json-url");$(n).closest(".inquirySectionTabHeaderItems").find(".inquirySectionTabHeaderItemActive").removeClass("inquirySectionTabHeaderItemActive");$(n).addClass("inquirySectionTabHeaderItemActive");i=$(n).closest(".inquirySectionTab").find(".inquirySectionTabBodyItems");t>-1&&(i.find(".inquirySectionTabHeaderItemActive").removeClass("inquirySectionTabHeaderItemActive").html(""),r=i.find(".inquirySectionTabBodyItem").eq(t),r.addClass("inquirySectionTabHeaderItemActive"),$(n).closest(".inquirySectionTab")[0].loadStepConfig(u,r))};n.showLoader=function(n){n.html('<div style="height:100px;"><\/div>');showLoader(n)};n.loadStepConfig=function(n,t){$(this)[0].showLoader(t);loadJsonConfig(n,t)};$(n).find(".inquirySectionTabHeaderItem:first-child").find(".inquirySectionTabHeaderItemInner").click()})};$.fn.initAutoNumber=function(n){return n?this.each(function(){var r=$(this).find("[data-target-value]"),t,i;if(r.length>0){t=$(this).find("[data-target-value]")[0];t.startAutoNumber=function(){var t=0,r=Number.parseInt($(this).attr("data-target-value")),i=Math.floor(r/n);this.tInterval=setInterval(function(){i<=0&&(i=1);t=t+i;t>=r&&(t=r,clearInterval(this.curThis.tInterval));$(this.curThis).html(t)}.bind({curThis:this}),i==0?250:5)};i=onVisibilityChange(t,function(){this.curThis.isAutoStarted||(this.curThis.startAutoNumber(),this.curThis.isAutoStarted=!0)}.bind({curThis:t}));$(window).on("DOMContentLoaded load resize scroll",i)}}):this};$.fn.initMyQuestionItem=function(){return this.each(function(){$(this).click(function(){$(this).toggleClass("yourQuestionItemOpen")})})};$.fn.loadYourQuestionList=function(){return this.each(function(){postForm("/Question/YourQuestion/GetList",new FormData,function(n){var t,i;if(n&&n.length>0){for(t=getYourQuestionBeginTemplate(),i=0;i<n.length;i++)t+=getYourQuestionItemTemplate(n[i]);t+=getYourQuestionEndTemplate();$(this.curThis).html(t);$(this.curThis).find(".yourQuestion .yourQuestionItem").initMyQuestionItem()}else $(this.curThis).css("display","none")}.bind({curThis:this}))})};$.fn.bindBlog=function(n){function t(n){return`
            <div class="blogSectionMainBlog">
                <div>
                    <a title="${n.title}" href="${n.url}" class="blogSectionMainBlogImg"><i></i><img alt="${n.title}" width="600" height="400" data-src="${n.img1}" ></a>
                </div>
                <div class="blogSectionMainBlogTitleAndDes">
                    <a href="${n.url}" title="${n.title}" class="blogSectionMainBlogTitle">${n.title}</a>
                    <a href="${n.url}" title="${n.title}" class="blogSectionMainBlogDescription">
                        ${n.desc}
                    </a>
                </div>
            </div>
`}function i(n){return`
            <div class="blogSectionSubBlogItem">
                <div ><a title="${n.title}" class="blogSectionSubBlogItemImg" href="${n.url}" ><i></i><img alt="${n.title}" width="135" height="100" data-src="${n.img2}"></a></div>
                <div class="blogSectionSubBlogItemTitleAndDes">
                    <a href="${n.url}" title="${n.title}" class="blogSectionSubBlogItemTitle">${n.title}</a>
                    <a href="${n.url}" title="${n.title}" class="blogSectionSubBlogItemDescription">
                        ${n.desc}
                    </a>
                </div>
            </div>
`}return n?this.each(function(){postForm(n,new FormData,function(n){var r,u;if(n&&n.length>0){for(r=`<section class="blogSection ">
                                <div class="blogSectionEntity">`,u=0;u<n.length;u++)u==0?r+=t(n[u]):(u==1&&(r+='<div class="blogSectionSubBlog">'),r+=i(n[u]));r+="<\/div>";r+=`
                                </div>
                                <div class="blogSectionHolderButton"><a class="mainBtn" href="/Blogs">همه اخبار و مقالات</a></div>
                            </section>`;$(this.curThis).addClass("myContainerEffect1Active").html(r);$(this.curThis).find("img[data-src]").loadImageOnScroll()}}.bind({curThis:this}),null,function(){})}):null};showLoginUserPanelInMainPage();var animationIndex=0;$.fn.initScrollAnimation=function(){return this.each(function(){var n,t,i;animationIndex++;n=$(this);$("<div id='tempObj_animation_before_"+animationIndex+"' ><\/div>").insertBefore(n);$("<div id='tempObj_animation_after_"+animationIndex+"' ><\/div>").insertAfter(n);t=onVisibilityChange($("#tempObj_animation_before_"+animationIndex),function(){doAddClassWork(this.curThis)}.bind({curThis:n}));$(window).on("DOMContentLoaded load resize scroll",t);i=onVisibilityChange($("#tempObj_animation_after_"+animationIndex),function(){doAddClassWork(this.curThis)}.bind({curThis:n}));$(window).on("DOMContentLoaded load resize scroll",i)})};$.fn.loadImageOnScroll=function(){return this.each(function(){var n=$(this),t=onVisibilityChange(n,function(){$(this.curThis).attr("data-src")&&($(this.curThis).attr("src")||$(this.curThis).attr("src",$(this.curThis).attr("data-src")),$(this.curThis).removeAttr("data-src"))}.bind({curThis:n}));t(n);$(window).on("DOMContentLoaded load resize scroll",t)})};